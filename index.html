<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–û–ë–†–û ‚Äî –ú—è—Å–Ω–∞—è –º–∞–Ω—É—Ñ–∞–∫—Ç—É—Ä–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg: #0a0a0a; 
            --card: #161618; 
            --accent: #FF3B30; 
            --gold: #D4AF37; 
            --text: #fff; 
            --sec: #8E8E93; 
            --border: #2c2c2e; 
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            margin: 0; 
            padding: 15px; 
            padding-bottom: 140px;
            overflow-x: hidden;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–≥–∞ */
        #snow {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999;
        }
        
        header { padding: 30px 0; border-bottom: 1px solid var(--border); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; position: relative; }
        .logo { font-weight: 900; font-size: 2.5rem; letter-spacing: -2px; margin: 0; line-height: 1; color: var(--text); }
        .logo span { color: var(--gold); }
        .tagline { color: var(--gold); text-transform: uppercase; font-size: 0.6rem; letter-spacing: 2px; font-weight: 700; margin-top: 5px; }
        .call-link { color: var(--text); text-decoration: none; font-size: 0.8rem; border: 1px solid var(--gold); padding: 8px 12px; border-radius: 12px; background: rgba(212, 175, 55, 0.1); }

        .item { background: var(--card); padding: 18px; border-radius: 22px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; border: 1px solid var(--border); position: relative; animation: slideUp 0.4s ease backwards; }
        .item-name { font-weight: 600; font-size: 1rem; display: block; margin-bottom: 4px; }
        .item-price { color: var(--sec); font-size: 0.8rem; }

        .counter { display: flex; align-items: center; gap: 8px; background: #222; padding: 5px; border-radius: 14px; border: 1px solid #333; }
        .btn-c { background: none; border: none; color: #fff; width: 34px; height: 34px; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .count-val { font-weight: 800; min-width: 32px; text-align: center; font-size: 1rem; color: var(--gold); }
        .btn-plus-init { background: var(--accent); border: none; color: #fff; padding: 10px 16px; border-radius: 12px; font-weight: 800; font-size: 0.8rem; cursor: pointer; }

        .footer-cart { position: fixed; bottom: 20px; left: 15px; right: 15px; background: #fff; color: #000; padding: 18px; border-radius: 26px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 15px 40px rgba(0,0,0,0.6); }
        .cart-stats { display: flex; flex-direction: column; }
        .checkout-btn { background: var(--accent); color: #fff; padding: 14px 22px; border-radius: 16px; border: none; font-weight: 900; text-transform: uppercase; font-size: 0.8rem; cursor: pointer; }

        #modal, #success-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 2000; backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); }
        
        .modal-content, .success-content { 
            position: absolute; bottom: 0; left: 0; right: 0;
            background: #1c1c1e; padding: 30px 20px 40px; 
            border-radius: 30px 30px 0 0; border-top: 1px solid var(--gold);
            animation: slideUpModal 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .success-content { height: 95vh; overflow-y: auto; text-align: center; background: #fff; color: #000; padding-top: 40px; }
        
        .form-group { margin-bottom: 15px; text-align: left; width: 100%; }
        label { display: block; color: var(--sec); font-size: 0.65rem; margin-bottom: 6px; text-transform: uppercase; font-weight: 800; }
        
        input, textarea { 
            width: 100%; padding: 14px; background: #2c2c2e; border: 1px solid #3a3a3c; 
            border-radius: 14px; color: #fff; font-size: 16px; font-family: inherit;
            -webkit-appearance: none;
        }

        /* –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• */
        .side-by-side { 
            display: flex; 
            gap: 10px; 
            width: 100%; 
            justify-content: space-between;
        }
        .side-by-side .form-group { 
            flex: 1 1 48%; /* –ó–∞–Ω–∏–º–∞–µ—Ç 48% —à–∏—Ä–∏–Ω—ã */
            min-width: 0; 
            margin-bottom: 0; 
        }
        .side-by-side input { 
            padding: 14px 5px; 
            font-size: 14px; 
            text-align: center; 
        }

        textarea { height: 80px; resize: none; }

        .receipt-card { background: #f2f2f7; padding: 20px; border-radius: 20px; margin: 20px 0; text-align: left; border: 1px dashed #ccc; }
        .receipt-id { font-weight: 900; font-size: 1.8rem; color: var(--accent); margin-bottom: 10px; display: block; }
        .instruction { background: var(--accent); color: #fff; padding: 15px; border-radius: 15px; font-weight: 700; margin-top: 20px; width: 100%; text-align: center; }

        .submit-btn { background: var(--gold); color: #000; border: none; width: 100%; padding: 20px; border-radius: 18px; font-weight: 900; font-size: 1.1rem; cursor: pointer; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUpModal { from { transform: translateY(100%); } to { transform: translateY(0); } }
    </style>
</head>
<body>

<canvas id="snow"></canvas>

<header>
    <div>
        <h1 class="logo">–î–û<span>–ë–†–û</span></h1>
        <div class="tagline">üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω—è—è –º–∞–Ω—É—Ñ–∞–∫—Ç—É—Ä–∞</div>
    </div>
    <a href="tel:+375296860287" class="call-link">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
</header>

<div id="menu"></div>

<div class="footer-cart">
    <div class="cart-stats">
        <div style="font-size: 0.6rem; font-weight: 800; color: #888; text-transform: uppercase;">
            <span id="items-count">0</span> –ø–æ–∑. ‚Ä¢ –°—É–º–º–∞
        </div>
        <div style="font-weight: 900; font-size: 1.4rem;"><span id="total">0</span> BYN</div>
    </div>
    <button class="checkout-btn" onclick="toggleModal(true)">–û—Ñ–æ—Ä–º–∏—Ç—å üéÅ</button>
</div>

<div id="modal">
    <div class="modal-content">
        <h2 style="font-weight: 900; font-size: 1.8rem; margin: 0 0 15px 0; color: var(--gold);">–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –∑–∞–∫–∞–∑ üéÖ</h2>
        <div class="form-group"><label>–ò–º—è</label><input type="text" id="name" placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?"></div>
        <div class="form-group"><label>–¢–µ–ª–µ—Ñ–æ–Ω</label><input type="tel" id="phone" value="+375 "></div>
        
        <div class="side-by-side">
            <div class="form-group">
                <label>–î–∞—Ç–∞</label>
                <input type="date" id="date">
            </div>
            <div class="form-group">
                <label>–í—Ä–µ–º—è</label>
                <input type="time" id="time">
            </div>
        </div>

        <div class="form-group" style="margin-top:15px;"><label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label><textarea id="comment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¥–æ–º–æ—Ñ–æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç..."></textarea></div>
        
        <div id="time-error" style="color:#FF3B30; font-size:0.75rem; margin-bottom:10px; text-align:center;"></div>
        <button class="submit-btn" id="sendBtn" onclick="sendToTelegram()">–ó–∞–∫–∞–∑–∞—Ç—å –∫ —Å—Ç–æ–ª—É üéÑ</button>
        <button onclick="toggleModal(false)" style="color:#888; background:none; border:none; width:100%; padding:15px; font-weight:700; cursor:pointer;">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
    </div>
</div>

<div id="success-screen">
    <div class="success-content">
        <div style="font-size: 3rem;">‚ú®</div>
        <h2 style="font-weight: 900; font-size: 1.6rem;">–° –ù–ê–°–¢–£–ü–ê–Æ–©–ò–ú!</h2>
        <div class="receipt-card">
            <span style="font-size: 0.7rem; text-transform: uppercase; color: #888;">–í–∞—à —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–µ–∫</span>
            <span class="receipt-id" id="res-id">#000000</span>
            <div id="res-items" style="margin: 15px 0; font-size: 0.85rem; line-height: 1.5; color: #333;"></div>
            <hr style="border:none; border-top:1px dashed #ccc;">
            <div style="display: flex; justify-content: space-between; font-weight: 900; font-size: 1.2rem; margin-top: 10px;">
                <span>–ò–¢–û–ì–û:</span>
                <span id="res-total">0 BYN</span>
            </div>
            <div style="margin-top:10px; font-size:0.8rem; color:#666;">
                üìÖ –î–æ—Å—Ç–∞–≤–∫–∞: <span id="res-date"></span> –≤ <span id="res-time"></span>
            </div>
        </div>
        <div class="instruction">
            üì∏ –°–î–ï–õ–ê–ô–¢–ï –°–ö–†–ò–ù–®–û–¢<br>
            <span style="font-size: 0.7rem; font-weight: 400;">–ü—Ä–µ–¥—ä—è–≤–∏—Ç–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏</span>
        </div>
        <button onclick="location.reload()" style="margin-top: 25px; background: #000; color: #fff; border: none; padding: 18px; border-radius: 15px; width: 100%; font-weight: 800;">–í –ú–ï–ù–Æ</button>
    </div>
</div>

<script>
    // –°–Ω–µ–≥
    const canvas = document.getElementById('snow');
    const ctx = canvas.getContext('2d');
    let width, height, snowflakes = [];
    function initSnow() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        snowflakes = [];
        for (let i = 0; i < 80; i++) {
            snowflakes.push({ x: Math.random() * width, y: Math.random() * height, r: Math.random() * 3 + 1, d: Math.random() * 1 });
        }
    }
    function drawSnow() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
        ctx.beginPath();
        for (let i = 0; i < snowflakes.length; i++) {
            let f = snowflakes[i];
            ctx.moveTo(f.x, f.y);
            ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2, true);
        }
        ctx.fill(); moveSnow();
    }
    function moveSnow() {
        for (let i = 0; i < snowflakes.length; i++) {
            let f = snowflakes[i];
            f.y += Math.pow(f.d, 2) + 1;
            f.x += Math.sin(f.y / 30);
            if (f.y > height) snowflakes[i] = { x: Math.random() * width, y: -10, r: f.r, d: f.d };
        }
    }
    window.addEventListener('resize', initSnow);
    initSnow(); setInterval(drawSnow, 30);

    const products = [
        { n: "–†–≤–∞–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞", p: 85, u: "–∫–≥" },
        { n: "–ì–æ–≤—è–∂—å–∏ —â–µ—á–∫–∏", p: 110, u: "–∫–≥" },
        { n: "–ì–æ–≤—è–∂–∏–π —è–∑—ã–∫", p: 90, u: "–∫–≥" },
        { n: "–ë—É–∂–µ–Ω–∏–Ω–∞ (—à–µ—è)", p: 70, u: "–∫–≥" },
        { n: "–†—ë–±—Ä—ã—à–∫–∏ –º—è—Å–Ω—ã–µ", p: 65, u: "–∫–≥" },
        { n: "–†—ë–±—Ä—ã—à–∫–∏ –ø–ª–∞—Å—Ç–∏–Ω–∫–∏", p: 50, u: "–∫–≥" },
        { n: "–†—É–ª—å–∫–∞", p: 55, u: "–∫–≥" },
        { n: "–ò–Ω–¥–µ–π–∫–∞", p: 70, u: "–∫–≥" },
        { n: "–£—Ç–∫–∞ —Å —è–±–ª–æ–∫–∞–º–∏", p: 75, u: "–∫–≥ (~2–∫–≥/—à—Ç)" },
        { n: "–ö–æ–ª–±–∞—Å–∫–∏ –∫—É—Ä–∏–Ω—ã–µ", p: 60, u: "–∫–≥" },
        { n: "–ö–æ–ª–±–∞—Å–∫–∏ —Å —á–µ–¥–¥–µ—Ä–æ–º", p: 70, u: "–∫–≥" },
        { n: "–ö—É—Ä–∏—Ü–∞ (–±–µ–¥—Ä–æ/–≥–æ–ª–µ–Ω—å)", p: 60, u: "–∫–≥" }
    ];

    let cart = {};
    const dateInp = document.getElementById('date');
    const timeInp = document.getElementById('time');
    dateInp.min = new Date().toISOString().split("T")[0];

    document.getElementById('phone').addEventListener('input', (e) => {
        let val = e.target.value.replace(/\D/g, '');
        if (val.startsWith('375')) val = val.substring(3);
        let x = val.match(/(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/);
        e.target.value = '+375 ' + (x[1] ? '(' + x[1] + ') ' : '') + x[2] + (x[3] ? '-' + x[3] : '') + (x[4] ? '-' + x[4] : '');
    });

    function renderMenu() {
        const menu = document.getElementById('menu');
        menu.innerHTML = "";
        products.forEach((item, index) => {
            const count = cart[item.n] || 0;
            const displayCount = Number.isInteger(count) ? count : count.toFixed(1);
            menu.innerHTML += `
                <div class="item" style="animation-delay: ${index*0.05}s">
                    <div class="item-info">
                        <span class="item-name">${item.n}</span>
                        <span class="item-price">${item.p} BYN / ${item.u}</span>
                    </div>
                    ${count === 0 
                        ? `<button class="btn-plus-init" onclick="updateCart('${item.n}', 0.5)">–î–æ–±–∞–≤–∏—Ç—å</button>`
                        : `<div class="counter">
                            <button class="btn-c" onclick="updateCart('${item.n}', -0.5)">‚àí</button>
                            <span class="count-val">${displayCount}</span>
                            <button class="btn-c" onclick="updateCart('${item.n}', 0.5)">+</button>
                           </div>`
                    }
                </div>`;
        });
        updateTotal();
    }

    function updateCart(name, delta) {
        let current = cart[name] || 0;
        let newValue = parseFloat((current + delta).toFixed(1));
        if (newValue <= 0) delete cart[name]; else cart[name] = newValue;
        renderMenu();
    }

    function updateTotal() {
        let t = 0; let c = 0;
        for (let n in cart) { const p = products.find(x => x.n === n); t += cart[n] * p.p; c++; }
        document.getElementById('total').innerText = t.toFixed(1).replace('.0', '');
        document.getElementById('items-count').innerText = c;
    }

    function toggleModal(s) {
        if(document.getElementById('total').innerText == "0" && s) return;
        document.getElementById('modal').style.display = s ? 'block' : 'none';
        document.body.style.overflow = s ? 'hidden' : 'auto';
    }

    async function sendToTelegram() {
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const date = dateInp.value;
        const time = timeInp.value;
        const comm = document.getElementById('comment').value || "–Ω–µ—Ç";

        if(!name || phone.length < 18 || !date || !time) return alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞! üéÖ");

        const orderId = "#" + Math.floor(100000 + Math.random() * 900000); 
        let orderList = ""; let itemsHtml = "";
        for (let n in cart) {
            orderList += `‚Ä¢ ${n}: ${cart[n]} –∫–≥\n`;
            itemsHtml += `<div>‚Ä¢ ${n}: <b>${cart[n]} –∫–≥</b></div>`;
        }
        const total = document.getElementById('total').innerText;
        const message = `üéÑ –ù–û–í–û–ì–û–î–ù–ò–ô –ó–ê–ö–ê–ó ${orderId}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüë§ –ö–ª–∏–µ–Ω—Ç: ${name}\nüìû –¢–µ–ª: ${phone}\nüìÖ –î–∞—Ç–∞: ${date}\n‚è∞ –í—Ä–µ–º—è: ${time}\nüí¨ –ö–æ–º–º–µ–Ω—Ç: ${comm}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nüõí –ó–∞–∫–∞–∑:\n${orderList}\nüí∞ –ò–¢–û–ì–û: ${total} BYN`;

        const token = "8508146270:AAGZnNkbZKwlUCep5Qti5L-ES4R-C5khvT0";
        const chatId = "-1003698576143";

        try {
            await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                method: 'POST', headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: chatId, text: message })
            });
            document.getElementById('modal').style.display = 'none';
            document.getElementById('success-screen').style.display = 'block';
            document.getElementById('res-id').innerText = orderId;
            document.getElementById('res-items').innerHTML = itemsHtml;
            document.getElementById('res-total').innerText = total + " BYN";
            document.getElementById('res-date').innerText = date;
            document.getElementById('res-time').innerText = time;
        } catch (e) { alert("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è!"); }
    }
    renderMenu();
</script>
</body>
</html>